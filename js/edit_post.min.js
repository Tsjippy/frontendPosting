(()=>{"use strict";let e,t=function(e){"undefined"!=typeof tinymce&&(tinymce.remove(),document.querySelectorAll(".entry-content .wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)}))),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),document.querySelectorAll(".wp-switch-editor").forEach((e=>e.addEventListener("click",(t=>{let n=e.closest(".wp-editor-wrap").querySelector(".wp-editor-area"),c=e.closest(".wp-editor-wrap").querySelector(".mce-panel");n.style.visibility="unset",t.target.matches(".switch-tmce")?(c.style.display="block",n.style.display="none"):(c.style.display="none",n.style.display="block")})))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&(e._niceselect=NiceSelect.bind(e,{searchable:!0}))}));const t=new Event("scriptsloaded");e.dispatchEvent(t)},n=function(c){if(null==c)return;0==e.length&&t(c);let o=e.shift();if(null!=o)if("SCRIPT"==o.tagName&&null==document.getElementById(o.id)){var d=document.createElement("script");""==o.type?d.type="text/javascript":d.type=o.type,""!=o.src?d.src=o.src:d.innerHTML=o.innerHTML,d.id=o.id;try{document.head.appendChild(d)}catch(e){console.error(e)}e.length>0?""!=o.src?d.addEventListener("load",n.bind(null,c)):n(c):""!=o.src?d.addEventListener("load",t.bind(null,c)):t(c)}else e.length>0?n(c):t(c);else t(c)};console.log("Edit post.js loaded");document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("#page-edit.hidden").forEach((e=>{e.classList.remove("hidden")}))})),document.addEventListener("click",(function(t){"page-edit"==t.target.id&&async function(t){let c=t.target,o=c.closest("main").querySelector(".content-wrapper");o.classList.add("hidden");let d=new FormData,r=c.dataset.id;d.append("postid",r);const l=new URL(edit_post_url);l.searchParams.set("post_id",r),window.history.pushState({},"",l);let i=Main.showLoader(c,!0,"Requesting form..."),s=await FormSubmit.fetchRestApi("frontend_posting/post_edit",d);s?(o.innerHTML=s.html,function(t,c){e=[];let o=document.createElement("div");o.innerHTML=t.html,e=Array.prototype.slice.call(o.getElementsByTagName("script")),t.js&&(o.innerHTML=t.js,e=[...o.children].concat(e),n(c)),t.css&&(o.innerHTML=t.css,[...o.children].forEach((e=>{document.head.appendChild(e)})))}(s,document)):i.outerHTML=c.outerHTML}(t)})),document.addEventListener("scriptsloaded",(function(){document.querySelectorAll("#frontend_upload_form").forEach((e=>e.classList.remove("hidden"))),document.querySelectorAll(".content-wrapper").forEach((e=>e.classList.remove("hidden"))),document.querySelectorAll(".loaderwrapper:not(.hidden)").forEach((e=>e.remove()))}))})();
//# sourceMappingURL=edit_post.min.js.map